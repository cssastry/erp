import{s as ce,r as ee,o as ie,e as ue,n as J}from"../chunks/scheduler.4ea3d083.js";import{S as pe,i as de,g as k,s as L,r as te,E as fe,h as g,f,c as M,j as y,z as O,u as se,k as m,x as u,a as P,v as le,F as R,d as B,t as j,w as ae,e as x,p as ne,b as re,B as ve,m as z,n as U,l as K,o as G}from"../chunks/index.647afbbe.js";import{e as Q}from"../chunks/each.cda2efdc.js";import{G as oe}from"../chunks/Grid.84575ac7.js";import{c as _e}from"../chunks/calender.a6d58219.js";import{w as me}from"../chunks/index.d16ca3b7.js";import{a as W,b as he}from"../chunks/leaves_api.24e6c628.js";import{m as ke}from"../chunks/index.fcef1d3f.js";function X(o,e,a){const t=o.slice();return t[11]=e[a],t}function Y(o){let e,a,t,n="Raise a Ticket",p,s,r='<input type="text" name="title" placeholder="Enter Title" required="" class="svelte-snk9kp"/> <input type="date" name="startDate" placeholder="Start Date" required="" class="svelte-snk9kp"/> <input type="date" name="endDate" placeholder="End Date" required="" class="svelte-snk9kp"/> <textarea name="reason" placeholder="Enter Reason" rows="4" required="" class="svelte-snk9kp"></textarea> <div class="form-button svelte-snk9kp"><button type="submit" class="svelte-snk9kp">Apply Leave</button></div>',l,d;return{c(){e=k("div"),a=k("div"),t=k("h2"),t.textContent=n,p=L(),s=k("form"),s.innerHTML=r,this.h()},l(v){e=g(v,"DIV",{class:!0});var b=y(e);a=g(b,"DIV",{class:!0});var D=y(a);t=g(D,"H2",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-qzc0m7"&&(t.textContent=n),p=M(D),s=g(D,"FORM",{class:!0,"data-svelte-h":!0}),O(s)!=="svelte-sq9v25"&&(s.innerHTML=r),D.forEach(f),b.forEach(f),this.h()},h(){m(t,"class","svelte-snk9kp"),m(s,"class","svelte-snk9kp"),m(a,"class","popup svelte-snk9kp"),m(e,"class","popup-overlay svelte-snk9kp")},m(v,b){P(v,e,b),u(e,a),u(a,t),u(a,p),u(a,s),l||(d=[R(s,"submit",o[7]),R(a,"click",ye),R(e,"click",o[8])],l=!0)},p:J,d(v){v&&f(e),l=!1,ee(d)}}}function ge(o){let e,a="No leaves applied";return{c(){e=k("p"),e.textContent=a,this.h()},l(t){e=g(t,"P",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-6j2ijw"&&(e.textContent=a),this.h()},h(){m(e,"class","svelte-snk9kp")},m(t,n){P(t,e,n)},p:J,i:J,o:J,d(t){t&&f(e)}}}function be(o){let e,a,t=Q(o[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Z(X(o,t,s));const p=s=>j(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=x()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);e=x()},m(s,r){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(s,r);P(s,e,r),a=!0},p(s,r){if(r&29){t=Q(s[0]);let l;for(l=0;l<t.length;l+=1){const d=X(s,t,l);n[l]?(n[l].p(d,r),B(n[l],1)):(n[l]=Z(d),n[l].c(),B(n[l],1),n[l].m(e.parentNode,e))}for(ne(),l=t.length;l<n.length;l+=1)p(l);re()}},i(s){if(!a){for(let r=0;r<t.length;r+=1)B(n[r]);a=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)j(n[r]);a=!1},d(s){s&&f(e),ve(n,s)}}}function De(o){let e,a,t,n,p=o[11].title+"",s,r,l,d=o[2](o[11].startDate,o[11].endDate)+"",v,b,D,S,c=o[3](o[11].status)+"",C,w,E,$=o[11].reason+"",T,V;return{c(){e=k("div"),a=k("div"),t=k("div"),n=k("p"),s=z(p),r=L(),l=k("p"),v=z(d),b=L(),D=k("div"),S=k("p"),C=z(c),w=L(),E=k("p"),T=z($),V=L(),this.h()},l(h){e=g(h,"DIV",{class:!0});var i=y(e);a=g(i,"DIV",{class:!0});var _=y(a);t=g(_,"DIV",{class:!0});var I=y(t);n=g(I,"P",{class:!0});var q=y(n);s=U(q,p),q.forEach(f),r=M(I),l=g(I,"P",{class:!0});var N=y(l);v=U(N,d),N.forEach(f),I.forEach(f),b=M(_),D=g(_,"DIV",{class:!0,style:!0});var A=y(D);S=g(A,"P",{class:!0});var H=y(S);C=U(H,c),H.forEach(f),A.forEach(f),_.forEach(f),w=M(i),E=g(i,"P",{class:!0});var F=y(E);T=U(F,$),F.forEach(f),i.forEach(f),V=M(h),this.h()},h(){m(n,"class","title svelte-snk9kp"),m(l,"class","duration svelte-snk9kp"),m(t,"class","details svelte-snk9kp"),m(S,"class","svelte-snk9kp"),m(D,"class","status svelte-snk9kp"),K(D,"background-color",o[4](o[11].status)),m(a,"class","leaves-head svelte-snk9kp"),m(E,"class","reason svelte-snk9kp"),m(e,"class","leaves-tab svelte-snk9kp")},m(h,i){P(h,e,i),u(e,a),u(a,t),u(t,n),u(n,s),u(t,r),u(t,l),u(l,v),u(a,b),u(a,D),u(D,S),u(S,C),u(e,w),u(e,E),u(E,T),P(h,V,i)},p(h,i){i&1&&p!==(p=h[11].title+"")&&G(s,p),i&1&&d!==(d=h[2](h[11].startDate,h[11].endDate)+"")&&G(v,d),i&1&&c!==(c=h[3](h[11].status)+"")&&G(C,c),i&1&&K(D,"background-color",h[4](h[11].status)),i&1&&$!==($=h[11].reason+"")&&G(T,$)},d(h){h&&(f(e),f(V))}}}function Z(o){let e,a;return e=new oe({props:{xs:12,md:3,lg:3,$$slots:{default:[De]},$$scope:{ctx:o}}}),{c(){te(e.$$.fragment)},l(t){se(e.$$.fragment,t)},m(t,n){le(e,t,n),a=!0},p(t,n){const p={};n&16385&&(p.$$scope={dirty:n,ctx:t}),e.$set(p)},i(t){a||(B(e.$$.fragment,t),a=!0)},o(t){j(e.$$.fragment,t),a=!1},d(t){ae(e,t)}}}function $e(o){let e,a,t,n;const p=[be,ge],s=[];function r(l,d){return l[0].length>0?0:1}return e=r(o),a=s[e]=p[e](o),{c(){a.c(),t=x()},l(l){a.l(l),t=x()},m(l,d){s[e].m(l,d),P(l,t,d),n=!0},p(l,d){let v=e;e=r(l),e===v?s[e].p(l,d):(ne(),j(s[v],1,1,()=>{s[v]=null}),re(),a=s[e],a?a.p(l,d):(a=s[e]=p[e](l),a.c()),B(a,1),a.m(t.parentNode,t))},i(l){n||(B(a),n=!0)},o(l){j(a),n=!1},d(l){l&&f(t),s[e].d(l)}}}function Ee(o){let e,a,t,n,p,s,r,l="Leave Managment",d,v,b,D=`<img src="${_e}" alt="" class="svelte-snk9kp"/>
                    Calender`,S,c,C="Apply Leave",w,E,$,T,V,h,i=o[1].visible&&Y(o);return $=new oe({props:{container:!0,gutter:15,$$slots:{default:[$e]},$$scope:{ctx:o}}}),{c(){e=k("meta"),a=L(),t=k("div"),i&&i.c(),n=L(),p=k("div"),s=k("div"),r=k("h6"),r.textContent=l,d=L(),v=k("div"),b=k("button"),b.innerHTML=D,S=L(),c=k("button"),c.textContent=C,w=L(),E=k("div"),te($.$$.fragment),this.h()},l(_){const I=fe("svelte-1oyom3k",document.head);e=g(I,"META",{name:!0,content:!0}),I.forEach(f),a=M(_),t=g(_,"DIV",{class:!0});var q=y(t);i&&i.l(q),n=M(q),p=g(q,"DIV",{class:!0});var N=y(p);s=g(N,"DIV",{class:!0});var A=y(s);r=g(A,"H6",{class:!0,"data-svelte-h":!0}),O(r)!=="svelte-pltcgr"&&(r.textContent=l),d=M(A),v=g(A,"DIV",{class:!0});var H=y(v);b=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),O(b)!=="svelte-1c45q0q"&&(b.innerHTML=D),S=M(H),c=g(H,"BUTTON",{class:!0,"data-svelte-h":!0}),O(c)!=="svelte-p4zci2"&&(c.textContent=C),H.forEach(f),A.forEach(f),w=M(N),E=g(N,"DIV",{class:!0});var F=y(E);se($.$$.fragment,F),F.forEach(f),N.forEach(f),q.forEach(f),this.h()},h(){document.title="Leaves",m(e,"name","description"),m(e,"content","Svelte demo app"),m(r,"class","svelte-snk9kp"),m(b,"class","calender svelte-snk9kp"),m(c,"class","leave svelte-snk9kp"),m(v,"class","buttons svelte-snk9kp"),m(s,"class","head svelte-snk9kp"),m(E,"class","leaves-list svelte-snk9kp"),m(p,"class","banner-text svelte-snk9kp"),m(t,"class","leaves svelte-snk9kp")},m(_,I){u(document.head,e),P(_,a,I),P(_,t,I),i&&i.m(t,null),u(t,n),u(t,p),u(p,s),u(s,r),u(s,d),u(s,v),u(v,b),u(v,S),u(v,c),u(p,w),u(p,E),le($,E,null),T=!0,V||(h=[R(b,"click",o[9]),R(c,"click",o[10])],V=!0)},p(_,[I]){_[1].visible?i?i.p(_,I):(i=Y(_),i.c(),i.m(t,n)):i&&(i.d(1),i=null);const q={};I&16385&&(q.$$scope={dirty:I,ctx:_}),$.$set(q)},i(_){T||(B($.$$.fragment,_),T=!0)},o(_){j($.$$.fragment,_),T=!1},d(_){_&&(f(a),f(t)),f(e),i&&i.d(),ae($),V=!1,ee(h)}}}const ye=o=>o.stopPropagation();function Ce(o,e,a){let t,n=[];ie(async()=>{const c=JSON.parse(localStorage.getItem("userData"));let C=await W(c.employeeId);a(0,n=C.data)});const p=(c,C)=>`${c} - ${C}`,s=c=>c===0?"Pending":c===1?"Approved":c===2?"Rejected":"Unknown",r=c=>c===0?"#AFA806":c===1?"#249929":c===2?"#D70C0C":"transparent",l=me({visible:!1});ue(o,l,c=>a(1,t=c));function d(){l.update(c=>({...c,visible:!c.visible}))}return[n,t,p,s,r,l,d,async c=>{const C=JSON.parse(localStorage.getItem("userData"));c.preventDefault();const w=new FormData(c.target),E=w.get("title"),$=w.get("startDate"),T=w.get("endDate"),V=w.get("reason");let h={employeeId:C.employeeId,title:E,startDate:$,endDate:T,reason:V},i=await he(h);if(console.log(i),i.success){ke.success(i.message);let _=await W(C.employeeId);a(0,n=_.data)}l.set({visible:!1})},()=>l.set(!1),()=>window.location.href="/app/calender",()=>d()]}class Pe extends pe{constructor(e){super(),de(this,e,Ce,Ee,ce,{})}}export{Pe as component};
