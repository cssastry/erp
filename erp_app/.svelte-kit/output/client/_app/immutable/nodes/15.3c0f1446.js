import{s as ne,o as ie,e as ce,h as de,r as ue,f as oe,n as fe}from"../chunks/scheduler.4ea3d083.js";import{S as _e,i as he,g as w,s as I,r as B,E as pe,h as b,f as g,c as y,j,u as H,k as h,x as v,a as T,v as L,d as J,t as K,w as Q,m as V,n as A,F as S,o as C,z as G,B as M,G as O}from"../chunks/index.647afbbe.js";import{e as R}from"../chunks/each.cda2efdc.js";import{w as me}from"../chunks/index.d16ca3b7.js";import{G as W}from"../chunks/Grid.84575ac7.js";import{a as re}from"../chunks/add.add6b948.js";import{g as X,r as Y,a as ve,b as ge}from"../chunks/roles_api.e4791dd9.js";import{m as N}from"../chunks/index.fcef1d3f.js";function Z(c,e,t){const l=c.slice();return l[10]=e[t],l}function x(c,e,t){const l=c.slice();return l[10]=e[t],l}function ee(c,e,t){const l=c.slice();return l[15]=e[t],l}function te(c){let e,t,l,p=c[2].formType===0?"Add Department":"Add Role",d,n,o,i,_,f,u=c[2].formType===0?"Add Department":"Add Role",s,a,m;function r($,k){return $[2].formType===0?be:we}let D=r(c),E=D(c);return{c(){e=w("div"),t=w("div"),l=w("h2"),d=V(p),n=I(),o=w("form"),E.c(),i=I(),_=w("div"),f=w("button"),s=V(u),this.h()},l($){e=b($,"DIV",{class:!0});var k=j(e);t=b(k,"DIV",{class:!0});var P=j(t);l=b(P,"H2",{class:!0});var F=j(l);d=A(F,p),F.forEach(g),n=y(P),o=b(P,"FORM",{class:!0});var q=j(o);E.l(q),i=y(q),_=b(q,"DIV",{class:!0});var U=j(_);f=b(U,"BUTTON",{type:!0,class:!0});var z=j(f);s=A(z,u),z.forEach(g),U.forEach(g),q.forEach(g),P.forEach(g),k.forEach(g),this.h()},h(){h(l,"class","svelte-15jlo0w"),h(f,"type","submit"),h(f,"class","svelte-15jlo0w"),h(_,"class","form-button svelte-15jlo0w"),h(o,"class","svelte-15jlo0w"),h(t,"class","popup svelte-15jlo0w"),h(e,"class","popup-overlay svelte-15jlo0w")},m($,k){T($,e,k),v(e,t),v(t,l),v(l,d),v(t,n),v(t,o),E.m(o,null),v(o,i),v(o,_),v(_,f),v(f,s),a||(m=[S(o,"submit",function(){de(c[2].formType===0?c[5]:c[6])&&(c[2].formType===0?c[5]:c[6]).apply(this,arguments)}),S(t,"click",Ee),S(e,"click",c[7])],a=!0)},p($,k){c=$,k&4&&p!==(p=c[2].formType===0?"Add Department":"Add Role")&&C(d,p),D===(D=r(c))&&E?E.p(c,k):(E.d(1),E=D(c),E&&(E.c(),E.m(o,i))),k&4&&u!==(u=c[2].formType===0?"Add Department":"Add Role")&&C(s,u)},d($){$&&g(e),E.d(),a=!1,ue(m)}}}function we(c){let e,t,l="Select Department",p,d,n=R(c[0]),o=[];for(let i=0;i<n.length;i+=1)o[i]=le(ee(c,n,i));return{c(){e=w("select"),t=w("option"),t.textContent=l;for(let i=0;i<o.length;i+=1)o[i].c();p=I(),d=w("input"),this.h()},l(i){e=b(i,"SELECT",{name:!0,class:!0});var _=j(e);t=b(_,"OPTION",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-orl0wz"&&(t.textContent=l);for(let f=0;f<o.length;f+=1)o[f].l(_);_.forEach(g),p=y(i),d=b(i,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),this.h()},h(){t.__value="",O(t,t.__value),t.disabled=!0,t.selected=!0,h(t,"class","svelte-15jlo0w"),h(e,"name","department"),e.required=!0,h(e,"class","svelte-15jlo0w"),h(d,"type","text"),h(d,"name","title"),h(d,"placeholder","Enter Role"),d.required=!0,h(d,"class","svelte-15jlo0w")},m(i,_){T(i,e,_),v(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);T(i,p,_),T(i,d,_)},p(i,_){if(_&1){n=R(i[0]);let f;for(f=0;f<n.length;f+=1){const u=ee(i,n,f);o[f]?o[f].p(u,_):(o[f]=le(u),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=n.length}},d(i){i&&(g(e),g(p),g(d)),M(o,i)}}}function be(c){let e;return{c(){e=w("input"),this.h()},l(t){e=b(t,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),this.h()},h(){h(e,"type","text"),h(e,"name","title"),h(e,"placeholder","Enter Department Name"),e.required=!0,h(e,"class","svelte-15jlo0w")},m(t,l){T(t,e,l)},p:fe,d(t){t&&g(e)}}}function le(c){let e,t=c[15].title+"",l,p;return{c(){e=w("option"),l=V(t),this.h()},l(d){e=b(d,"OPTION",{class:!0});var n=j(e);l=A(n,t),n.forEach(g),this.h()},h(){e.__value=p=c[15]._id,O(e,e.__value),h(e,"class","svelte-15jlo0w")},m(d,n){T(d,e,n),v(e,l)},p(d,n){n&1&&t!==(t=d[15].title+"")&&C(l,t),n&1&&p!==(p=d[15]._id)&&(e.__value=p,O(e,e.__value))},d(d){d&&g(e)}}}function se(c){let e,t,l,p=c[10].title+"",d,n;return{c(){e=w("div"),t=w("div"),l=w("p"),d=V(p),n=I(),this.h()},l(o){e=b(o,"DIV",{class:!0});var i=j(e);t=b(i,"DIV",{class:!0});var _=j(t);l=b(_,"P",{class:!0});var f=j(l);d=A(f,p),f.forEach(g),_.forEach(g),n=y(i),i.forEach(g),this.h()},h(){h(l,"class","title svelte-15jlo0w"),h(t,"class","details svelte-15jlo0w"),h(e,"class","data svelte-15jlo0w")},m(o,i){T(o,e,i),v(e,t),v(t,l),v(l,d),v(e,n)},p(o,i){i&1&&p!==(p=o[10].title+"")&&C(d,p)},d(o){o&&g(e)}}}function De(c){let e,t,l,p="Departments",d,n,o,i,_,f,u=R(c[0]),s=[];for(let a=0;a<u.length;a+=1)s[a]=se(x(c,u,a));return{c(){e=w("div"),t=w("div"),l=w("p"),l.textContent=p,d=I(),n=w("img"),i=I();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var m=j(e);t=b(m,"DIV",{class:!0});var r=j(t);l=b(r,"P",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1psq0m3"&&(l.textContent=p),d=y(r),n=b(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(g),i=y(m);for(let D=0;D<s.length;D+=1)s[D].l(m);m.forEach(g),this.h()},h(){h(l,"class","svelte-15jlo0w"),oe(n.src,o=re)||h(n,"src",o),h(n,"alt","icon"),h(n,"class","svelte-15jlo0w"),h(t,"class","heading svelte-15jlo0w"),h(e,"class","todo svelte-15jlo0w")},m(a,m){T(a,e,m),v(e,t),v(t,l),v(t,d),v(t,n),v(e,i);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);_||(f=S(n,"click",c[8]),_=!0)},p(a,m){if(m&1){u=R(a[0]);let r;for(r=0;r<u.length;r+=1){const D=x(a,u,r);s[r]?s[r].p(D,m):(s[r]=se(D),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=u.length}},d(a){a&&g(e),M(s,a),_=!1,f()}}}function ae(c){let e,t,l,p=c[10].title+"",d,n,o,i=c[10].departmentId.title+"",_,f;return{c(){e=w("div"),t=w("div"),l=w("p"),d=V(p),n=I(),o=w("p"),_=V(i),f=I(),this.h()},l(u){e=b(u,"DIV",{class:!0});var s=j(e);t=b(s,"DIV",{class:!0});var a=j(t);l=b(a,"P",{class:!0});var m=j(l);d=A(m,p),m.forEach(g),n=y(a),o=b(a,"P",{class:!0});var r=j(o);_=A(r,i),r.forEach(g),a.forEach(g),f=y(s),s.forEach(g),this.h()},h(){h(l,"class","title svelte-15jlo0w"),h(o,"class","roleDepartment svelte-15jlo0w"),h(t,"class","details svelte-15jlo0w"),h(e,"class","data svelte-15jlo0w")},m(u,s){T(u,e,s),v(e,t),v(t,l),v(l,d),v(t,n),v(t,o),v(o,_),v(e,f)},p(u,s){s&2&&p!==(p=u[10].title+"")&&C(d,p),s&2&&i!==(i=u[10].departmentId.title+"")&&C(_,i)},d(u){u&&g(e)}}}function je(c){let e,t,l,p="Roles",d,n,o,i,_,f,u=R(c[1]),s=[];for(let a=0;a<u.length;a+=1)s[a]=ae(Z(c,u,a));return{c(){e=w("div"),t=w("div"),l=w("p"),l.textContent=p,d=I(),n=w("img"),i=I();for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var m=j(e);t=b(m,"DIV",{class:!0});var r=j(t);l=b(r,"P",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-anf965"&&(l.textContent=p),d=y(r),n=b(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(g),i=y(m);for(let D=0;D<s.length;D+=1)s[D].l(m);m.forEach(g),this.h()},h(){h(l,"class","svelte-15jlo0w"),oe(n.src,o=re)||h(n,"src",o),h(n,"alt","icon"),h(n,"class","svelte-15jlo0w"),h(t,"class","heading svelte-15jlo0w"),h(e,"class","progress svelte-15jlo0w")},m(a,m){T(a,e,m),v(e,t),v(t,l),v(t,d),v(t,n),v(e,i);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);_||(f=S(n,"click",c[9]),_=!0)},p(a,m){if(m&2){u=R(a[1]);let r;for(r=0;r<u.length;r+=1){const D=Z(a,u,r);s[r]?s[r].p(D,m):(s[r]=ae(D),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=u.length}},d(a){a&&g(e),M(s,a),_=!1,f()}}}function ke(c){let e,t,l,p,d,n,o,i,_,f,u=c[2].visible&&te(c);return o=new W({props:{xs:12,md:6,lg:6,$$slots:{default:[De]},$$scope:{ctx:c}}}),_=new W({props:{xs:12,md:6,lg:6,$$slots:{default:[je]},$$scope:{ctx:c}}}),{c(){e=w("meta"),t=I(),l=w("div"),u&&u.c(),p=I(),d=w("div"),n=w("div"),B(o.$$.fragment),i=I(),B(_.$$.fragment),this.h()},l(s){const a=pe("svelte-rnwr90",document.head);e=b(a,"META",{name:!0,content:!0}),a.forEach(g),t=y(s),l=b(s,"DIV",{class:!0});var m=j(l);u&&u.l(m),p=y(m),d=b(m,"DIV",{class:!0});var r=j(d);n=b(r,"DIV",{class:!0});var D=j(n);H(o.$$.fragment,D),i=y(D),H(_.$$.fragment,D),D.forEach(g),r.forEach(g),m.forEach(g),this.h()},h(){document.title="Tasks",h(e,"name","description"),h(e,"content","Svelte demo app"),h(n,"class","work svelte-15jlo0w"),h(d,"class","banner-text svelte-15jlo0w"),h(l,"class","task svelte-15jlo0w")},m(s,a){v(document.head,e),T(s,t,a),T(s,l,a),u&&u.m(l,null),v(l,p),v(l,d),v(d,n),L(o,n,null),v(n,i),L(_,n,null),f=!0},p(s,[a]){s[2].visible?u?u.p(s,a):(u=te(s),u.c(),u.m(l,p)):u&&(u.d(1),u=null);const m={};a&262145&&(m.$$scope={dirty:a,ctx:s}),o.$set(m);const r={};a&262146&&(r.$$scope={dirty:a,ctx:s}),_.$set(r)},i(s){f||(J(o.$$.fragment,s),J(_.$$.fragment,s),f=!0)},o(s){K(o.$$.fragment,s),K(_.$$.fragment,s),f=!1},d(s){s&&(g(t),g(l)),g(e),u&&u.d(),Q(o),Q(_)}}}const Ee=c=>c.stopPropagation();function $e(c,e,t){let l,p=[],d=[];ie(async()=>{const a=await X();t(0,p=a.data);const m=await Y();t(1,d=m.data),console.log(d)});const n=me({visible:!1,formType:0});ce(c,n,a=>t(2,l=a));function o(a){n.update(m=>({...m,visible:!m.visible,formType:a}))}return[p,d,l,n,o,async a=>{a.preventDefault();const r=new FormData(a.target).get("title"),D=l.formType;let $=await ve({title:r});if($.success){N.success($.message);const k=await X();t(0,p=k.data),n.set({visible:!1,formType:D})}else N.error($.message)},async a=>{a.preventDefault();const m=new FormData(a.target),r=m.get("title"),D=m.get("department"),E=l.formType;let k=await ge({title:r,departmentId:D});if(k.success){N.success(k.message);const P=await Y();t(1,d=P.data),n.set({visible:!1,formType:E})}else N.error(k.message)},()=>n.set(!1),()=>o(0),()=>o(1)]}class Se extends _e{constructor(e){super(),he(this,e,$e,ke,ne,{})}}export{Se as component};
