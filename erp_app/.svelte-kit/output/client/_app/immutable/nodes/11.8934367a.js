import{s as pe,o as _e,f as me,h as ee,r as he}from"../chunks/scheduler.4ea3d083.js";import{S as be,i as ge,g as p,s as M,r as oe,E as $e,h as _,f as d,c as V,j as $,z as K,u as ie,k as f,x as i,a as L,v as ce,d as y,t as A,w as ue,e as q,p as de,b as fe,B as De,m as F,n as R,F as te,o as J}from"../chunks/index.647afbbe.js";import{e as se}from"../chunks/each.cda2efdc.js";import{G as ve}from"../chunks/Grid.84575ac7.js";import{p as Ee}from"../chunks/profile.47c6a589.js";import{g as ae,u as ke}from"../chunks/leaves_api.5c98fa64.js";import{m as Ie}from"../chunks/index.098da0cb.js";function le(n,s,o){const e=n.slice();return e[3]=s[o],e}function re(n){let s,o;return s=new ve({props:{xs:12,md:4,lg:4,$$slots:{default:[Te]},$$scope:{ctx:n}}}),{c(){oe(s.$$.fragment)},l(e){ie(s.$$.fragment,e)},m(e,t){ce(s,e,t),o=!0},p(e,t){const c={};t&65&&(c.$$scope={dirty:t,ctx:e}),s.$set(c)},i(e){o||(y(s.$$.fragment,e),o=!0)},o(e){A(s.$$.fragment,e),o=!1},d(e){ue(s,e)}}}function Te(n){let s,o,e,t,c,a,r,l,u=n[3].title+"",h,v,m,b=n[1](n[3].startDate,n[3].endDate)+"",D,w,k,I,Q='<p class="svelte-1d0b9bs">Approve</p>',z,T,W='<p class="svelte-1d0b9bs">Reject</p>',O,H,S=n[3].reason+"",j,B,U,X;return{c(){s=p("div"),o=p("div"),e=p("div"),t=p("img"),a=M(),r=p("div"),l=p("p"),h=F(u),v=M(),m=p("p"),D=F(b),w=M(),k=p("div"),I=p("button"),I.innerHTML=Q,z=M(),T=p("button"),T.innerHTML=W,O=M(),H=p("p"),j=F(S),B=M(),this.h()},l(E){s=_(E,"DIV",{class:!0});var g=$(s);o=_(g,"DIV",{class:!0});var C=$(o);e=_(C,"DIV",{class:!0});var N=$(e);t=_(N,"IMG",{src:!0,alt:!0}),a=V(N),r=_(N,"DIV",{class:!0});var P=$(r);l=_(P,"P",{class:!0});var Y=$(l);h=R(Y,u),Y.forEach(d),v=V(P),m=_(P,"P",{class:!0});var Z=$(m);D=R(Z,b),Z.forEach(d),P.forEach(d),N.forEach(d),w=V(C),k=_(C,"DIV",{class:!0});var G=$(k);I=_(G,"BUTTON",{class:!0,"data-svelte-h":!0}),K(I)!=="svelte-1pa8iei"&&(I.innerHTML=Q),z=V(G),T=_(G,"BUTTON",{class:!0,"data-svelte-h":!0}),K(T)!=="svelte-1rtswpt"&&(T.innerHTML=W),G.forEach(d),C.forEach(d),O=V(g),H=_(g,"P",{class:!0});var x=$(H);j=R(x,S),x.forEach(d),g.forEach(d),B=V(E),this.h()},h(){me(t.src,c=Ee)||f(t,"src",c),f(t,"alt","avatar"),f(l,"class","title svelte-1d0b9bs"),f(m,"class","duration svelte-1d0b9bs"),f(r,"class","details svelte-1d0b9bs"),f(e,"class","data svelte-1d0b9bs"),f(I,"class","status approve buttons svelte-1d0b9bs"),f(T,"class","status reject buttons svelte-1d0b9bs"),f(k,"class","buttons svelte-1d0b9bs"),f(o,"class","leaves-head svelte-1d0b9bs"),f(H,"class","reason svelte-1d0b9bs"),f(s,"class","leaves-tab svelte-1d0b9bs")},m(E,g){L(E,s,g),i(s,o),i(o,e),i(e,t),i(e,a),i(e,r),i(r,l),i(l,h),i(r,v),i(r,m),i(m,D),i(o,w),i(o,k),i(k,I),i(k,z),i(k,T),i(s,O),i(s,H),i(H,j),L(E,B,g),U||(X=[te(I,"click",function(){ee(n[2](n[3]._id,1))&&n[2](n[3]._id,1).apply(this,arguments)}),te(T,"click",function(){ee(n[2](n[3]._id,2))&&n[2](n[3]._id,2).apply(this,arguments)})],U=!0)},p(E,g){n=E,g&1&&u!==(u=n[3].title+"")&&J(h,u),g&1&&b!==(b=n[1](n[3].startDate,n[3].endDate)+"")&&J(D,b),g&1&&S!==(S=n[3].reason+"")&&J(j,S)},d(E){E&&(d(s),d(B)),U=!1,he(X)}}}function ne(n){let s,o,e=n[3].status===0&&re(n);return{c(){e&&e.c(),s=q()},l(t){e&&e.l(t),s=q()},m(t,c){e&&e.m(t,c),L(t,s,c),o=!0},p(t,c){t[3].status===0?e?(e.p(t,c),c&1&&y(e,1)):(e=re(t),e.c(),y(e,1),e.m(s.parentNode,s)):e&&(de(),A(e,1,1,()=>{e=null}),fe())},i(t){o||(y(e),o=!0)},o(t){A(e),o=!1},d(t){t&&d(s),e&&e.d(t)}}}function Me(n){let s,o,e=se(n[0]),t=[];for(let a=0;a<e.length;a+=1)t[a]=ne(le(n,e,a));const c=a=>A(t[a],1,1,()=>{t[a]=null});return{c(){for(let a=0;a<t.length;a+=1)t[a].c();s=q()},l(a){for(let r=0;r<t.length;r+=1)t[r].l(a);s=q()},m(a,r){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(a,r);L(a,s,r),o=!0},p(a,r){if(r&7){e=se(a[0]);let l;for(l=0;l<e.length;l+=1){const u=le(a,e,l);t[l]?(t[l].p(u,r),y(t[l],1)):(t[l]=ne(u),t[l].c(),y(t[l],1),t[l].m(s.parentNode,s))}for(de(),l=e.length;l<t.length;l+=1)c(l);fe()}},i(a){if(!o){for(let r=0;r<e.length;r+=1)y(t[r]);o=!0}},o(a){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)A(t[r]);o=!1},d(a){a&&d(s),De(t,a)}}}function Ve(n){let s,o,e,t,c,a='<h6 class="svelte-1d0b9bs">Approvals</h6>',r,l,u,h;return u=new ve({props:{container:!0,gutter:15,$$slots:{default:[Me]},$$scope:{ctx:n}}}),{c(){s=p("meta"),o=M(),e=p("div"),t=p("div"),c=p("div"),c.innerHTML=a,r=M(),l=p("div"),oe(u.$$.fragment),this.h()},l(v){const m=$e("svelte-1fh00ok",document.head);s=_(m,"META",{name:!0,content:!0}),m.forEach(d),o=V(v),e=_(v,"DIV",{class:!0});var b=$(e);t=_(b,"DIV",{class:!0});var D=$(t);c=_(D,"DIV",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-1o9z0j4"&&(c.innerHTML=a),r=V(D),l=_(D,"DIV",{class:!0});var w=$(l);ie(u.$$.fragment,w),w.forEach(d),D.forEach(d),b.forEach(d),this.h()},h(){document.title="Approvals",f(s,"name","description"),f(s,"content","Svelte demo app"),f(c,"class","head svelte-1d0b9bs"),f(l,"class","leaves-list svelte-1d0b9bs"),f(t,"class","banner-text svelte-1d0b9bs"),f(e,"class","leaves svelte-1d0b9bs")},m(v,m){i(document.head,s),L(v,o,m),L(v,e,m),i(e,t),i(t,c),i(t,r),i(t,l),ce(u,l,null),h=!0},p(v,[m]){const b={};m&65&&(b.$$scope={dirty:m,ctx:v}),u.$set(b)},i(v){h||(y(u.$$.fragment,v),h=!0)},o(v){A(u.$$.fragment,v),h=!1},d(v){v&&(d(o),d(e)),d(s),ue(u)}}}function ye(n,s,o){let e=[];return _e(async()=>{let a=await ae();o(0,e=a.data)}),[e,(a,r)=>`${a} - ${r}`,async(a,r)=>{let u=await ke(a,{status:r});if(console.log(u),u.success){Ie.success(u.message);let h=await ae();o(0,e=h.data)}}]}class Ce extends be{constructor(s){super(),ge(this,s,ye,Ve,pe,{})}}export{Ce as component};
